= link_to 'Add photo', new_post_path 
- if @posts.any?
  - @posts.each do |post|
    .post-container
      %p.time_ago= "#{time_ago_in_words post.created_at} ago"
      %p.username= fetch_username(post.user_id)
      = image_tag post.image(:medium)
      %p.caption= post.caption
      - if post.user == current_user
        = link_to 'Delete post', post_path(post), method: :delete 
        = link_to 'Edit post', edit_post_path(post)
      .likes
        - if post.likes.any? { |like| like.user == current_user }
          = link_to image_tag('unliked.png', size: '16', title: 'Unlike') , post_like_path(post, Like.find_by(user_id: current_user.id)), method: :delete, class: 'likes-link heart' 
        - else
          = link_to image_tag('liked.png', size: '16', title: 'Like'), post_likes_path(post) , method: :post, class: 'likes-link heart'
        %span.likes_count= post.likes.count
        = 'like'.pluralize post.likes.count
      - if post.comments.any?
        These are commments
        - post.comments.each do |comment|
          .comment-containter
            %p.comment-text= comment.text
            %p.comment-user= fetch_username(comment.user_id)
            - if comment.user == current_user
              = link_to 'Delete comment', post_comment_path(post, comment), method: :delete 
              = link_to 'Edit comment', edit_post_comment_path(post, comment)
      = link_to 'Add a comment', new_post_comment_path(post)
- else
  %h2 No photos posted yet
